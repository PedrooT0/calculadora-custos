<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Calculadora de Custos</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            padding: 40px;
            margin: 0;
        }

        .container {
            display: flex;
            flex-wrap: wrap;
            max-width: 1200px;
            margin: auto;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 0 12px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .coluna {
            flex: 1;
            padding: 30px;
            min-width: 300px;
            box-sizing: border-box;
            border-right: 1px solid #eee;
        }

        .coluna:last-child {
            border-right: none;
        }

        h1 {
            text-align: center;
            width: 100%;
            padding: 20px 0 0 0;
            color: #333;
        }

        .subtitulo {
            font-size: 18px;
            margin: 20px 0 10px;
            font-weight: bold;
            color: #444;
        }

        .grupo-fixos {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px 20px;
        }

        label {
            font-weight: bold;
            color: #333;
            display: block;
            margin-bottom: 4px;
        }

        input[type="number"] {
            width: 100%;
            padding: 6px;
            font-size: 14px;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 6px;
        }

        .resultado {
                font-size: 20px;
                margin-top: 15px;
                color: #222;
                background-color: #f3f3f3;
                padding: 12px 16px;
                border: 2px solid #ddd;
                border-radius: 10px;
                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .lucro-positivo {
            color: green;
            font-weight: bold;
        }

        .lucro-negativo {
            color: red;
            font-weight: bold;
        }
    </style>
    <script>
        function calcular() {
            let totalFixos = 0;
            const camposFixos = document.querySelectorAll('.campo-fixo');
            camposFixos.forEach(input => {
                totalFixos += parseFloat(input.value) || 0;
            });
            document.getElementById('resultadoCustosFixos').textContent = 'R$ ' + totalFixos.toFixed(2);

            const vendas = parseInt(document.getElementById('vendasMes').value) || 1;
            const custoPorVenda = totalFixos / vendas;
            document.getElementById('resultadoCustoPorVenda').textContent = 'R$ ' + custoPorVenda.toFixed(2);

            const materiais = parseFloat(document.getElementById('materiais').value) || 0;
            const maoDeObra = parseFloat(document.getElementById('maoDeObra').value) || 0;
            const frete = parseFloat(document.getElementById('frete').value) || 0;

            const custoMateriaisComVariacao = materiais * 1.10;
            const custoVariavel = custoMateriaisComVariacao + maoDeObra + frete;
            document.getElementById('resultadoCustoVariavel').textContent = 'R$ ' + custoVariavel.toFixed(2);

            const valorVenda = parseFloat(document.getElementById('valorVenda').value) || 0;
            const lucro = valorVenda - custoVariavel;
            const lucroElemento = document.getElementById('resultadoLucro');
            lucroElemento.innerHTML = '<strong>Lucro Estimado:</strong> R$ ' + lucro.toFixed(2);
            lucroElemento.className = lucro >= 0 ? 'resultado lucro-positivo' : 'resultado lucro-negativo';
        }

        window.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('input').forEach(input => {
                input.addEventListener('input', calcular);
            });
        });
    </script>
</head>
<body>
    <h1>Calculadora de Custos</h1>
    <div class="container">
        <!-- Coluna da esquerda -->
        <div class="coluna">
            <div class="subtitulo">Custos Fixos:</div>
            <div class="grupo-fixos">
                {% for campo in ['Aluguel', 'Água', 'Energia', 'Internet/Celular', 'Salários', 'Contador', 'Marketing', 'Sistemas', 'Combustível', 'Manutenção', 'Seguros', 'Outros'] %}
                    <div>
                        <label>{{ campo }}:</label>
                        <input type="number" step="0.01" class="campo-fixo">
                    </div>
                {% endfor %}
            </div>

            <div style="margin-top: 20px;">
                <label>Capacidade de vendas por mês:</label>
                <input type="number" id="vendasMes" min="1" value="1">
            </div>

            <div class="subtitulo">Resultados Fixos:</div>
            <div class="resultado"><strong>Total de Custos Fixos:</strong> <span id="resultadoCustosFixos">R$ 0.00</span></div>
            <div class="resultado"><strong>Custo Fixo por Venda:</strong> <span id="resultadoCustoPorVenda">R$ 0.00</span></div>
        </div>

        <!-- Coluna da direita -->
        <div class="coluna">
            <div class="subtitulo">Custos Variáveis por Unidade:</div>
            <label>Materiais + 10% de Variação:</label>
            <input type="number" id="materiais" step="0.01">

            <label>Mão de Obra:</label>
            <input type="number" id="maoDeObra" step="0.01">

            <label>Frete:</label>
            <input type="number" id="frete" step="0.01">

            <label>Valor de Venda do Projeto:</label>
            <input type="number" id="valorVenda" step="0.01">

            <div class="subtitulo">Resultados Variáveis:</div>
            <div class="resultado"><strong>Custo do Projeto:</strong> <span id="resultadoCustoVariavel">R$ 0.00</span></div>
            <div id="resultadoLucro" class="resultado"><strong>Lucro Estimado:</strong> R$ 0.00</div>
        </div>
    </div>
</body>
</html>
